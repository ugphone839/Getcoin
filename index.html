<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ö° Get Coin Mi·ªÖn Ph√≠ ‚ö°</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üí∞ Ki·∫øm Coin Ngay!</h1>
        <p class="description">Click v√†o n√∫t b√™n d∆∞·ªõi ƒë·ªÉ t·∫°o Link Get Coin.</p>
        
        <button id="generateButton" onclick="generateLink()">T·∫°o Link Get Coin</button>
        
        <div id="linkContainer" class="link-box hidden">
            <p>Link c·ªßa b·∫°n ƒë√£ s·∫µn s√†ng:</p>
            <a id="shortenedLink" href="#" target="_blank"></a>
            <button id="copyButton" onclick="copyLink()">Sao Ch√©p</button>
            <p class="warning">‚ö†Ô∏è Sau khi ho√†n th√†nh, Coin s·∫Ω ƒë∆∞·ª£c c·ªông v√†o t√†i kho·∫£n Discord c·ªßa b·∫°n!</p>
        </div>

        <p id="message" class="error-message"></p>
    </div>

    <script>
        // C·∫•u h√¨nh API c·ªßa d·ªãch v·ª• r√∫t g·ªçn link (S·ª¨ D·ª§NG API T·ª™ YEUMONEY HO·∫∂C T∆Ø∆†NG T·ª∞)
        const SHORTENER_API_URL = "https://yeumoney.com/api/"; 
        const SHORTENER_TOKEN = "YOUR_YEUMONEY_TOKEN_HERE"; // THAY TH·∫æ B·∫∞NG TOKEN C·ª¶A B·∫†N
        const TARGET_URL = "https://zyo.lol/DS_Zeus"; // URL ƒë√≠ch m√† BOT c·ªßa b·∫°n s·∫Ω tr·∫£ Coin khi ng∆∞·ªùi d√πng truy c·∫≠p th√†nh c√¥ng

        const generateButton = document.getElementById('generateButton');
        const linkContainer = document.getElementById('linkContainer');
        const shortenedLink = document.getElementById('shortenedLink');
        const messageDisplay = document.getElementById('message');

        function showMessage(msg, isError = false) {
            messageDisplay.textContent = msg;
            messageDisplay.className = isError ? 'error-message' : 'success-message';
        }

        async function generateLink() {
            generateButton.disabled = true;
            showMessage('ƒêang t·∫°o link, vui l√≤ng ch·ªù...');
            linkContainer.classList.add('hidden');

            // THAY ƒê·ªîI C√ÅC THAM S·ªê N√ÄY T√ôY THEO D·ªäCH V·ª§ R√öT G·ªåN LINK B·∫†N D√ôNG (V√ç D·ª§ N√ÄY D√ôNG C√ö PH√ÅP C·ª¶A YEUMONEY)
            const apiUrl = `${SHORTENER_API_URL}?api=${SHORTENER_TOKEN}&url=${encodeURIComponent(TARGET_URL)}`;

            try {
                const response = await fetch(apiUrl);
                const data = await response.json();
                
                if (data.status === 'success') {
                    const shortUrl = data.shortenedUrl;
                    
                    shortenedLink.href = shortUrl;
                    shortenedLink.textContent = shortUrl;
                    linkContainer.classList.remove('hidden');
                    showMessage('ƒê√£ t·∫°o link th√†nh c√¥ng! Nh·∫•p ƒë·ªÉ ki·∫øm Coin.', false);
                } else {
                    showMessage(`L·ªói t·ª´ API: ${data.message || 'Kh√¥ng th·ªÉ r√∫t g·ªçn link.'}`, true);
                }
            } catch (error) {
                console.error("L·ªói:", error);
                showMessage('L·ªói k·∫øt n·ªëi ho·∫∑c x·ª≠ l√Ω API. Vui l√≤ng ki·ªÉm tra l·∫°i c·∫•u h√¨nh API.', true);
            } finally {
                generateButton.disabled = false;
            }
        }

        function copyLink() {
            const link = shortenedLink.href;
            if (navigator.clipboard && window.isSecureContext) {
                // D√πng Clipboard API hi·ªán ƒë·∫°i
                navigator.clipboard.writeText(link).then(() => {
                    showMessage('ƒê√£ sao ch√©p link!', false);
                }).catch(() => {
                    // Fallback n·∫øu kh√¥ng th√†nh c√¥ng
                    fallbackCopyTextToClipboard(link);
                });
            } else {
                // Fallback cho m√¥i tr∆∞·ªùng kh√¥ng an to√†n (non-HTTPS) ho·∫∑c tr√¨nh duy·ªát c≈©
                fallbackCopyTextToClipboard(link);
            }
        }

        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "fixed"; // ƒê·∫£m b·∫£o n√≥ kh√¥ng cu·ªôn
            textArea.style.opacity = 0; // ·∫®n n√≥ ƒëi
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try {
                document.execCommand('copy');
                showMessage('ƒê√£ sao ch√©p link b·∫±ng c√°ch d·ª± ph√≤ng!', false);
            } catch (err) {
                showMessage('Kh√¥ng th·ªÉ sao ch√©p t·ª± ƒë·ªông. Vui l√≤ng sao ch√©p th·ªß c√¥ng.', true);
            }
            document.body.removeChild(textArea);
        }
    </script>
</body>
</html>
