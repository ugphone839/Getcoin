<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ö° H·ªá th·ªëng Get Coin Bot Discord</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .info-box {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #007bff;
            background-color: #e9f7ff;
            border-radius: 8px;
            text-align: left;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ch√†o m·ª´ng ƒë·∫øn v·ªõi h·ªá th·ªëng Get Coin</h1>
        <p class="description">ƒê·ªÉ nh·∫≠n ƒë∆∞·ª£c li√™n k·∫øt ki·∫øm Coin c√° nh√¢n, vui l√≤ng s·ª≠ d·ª•ng l·ªánh Slash Command <code>/getcoin</code> tr√™n m√°y ch·ªß Discord c·ªßa ch√∫ng t√¥i.</p>
        <div class="info-box">
            <p>Li√™n k·∫øt ƒë∆∞·ª£c t·∫°o s·∫Ω chuy·ªÉn h∆∞·ªõng b·∫°n ƒë·∫øn trang **Claim** n√†y sau khi ho√†n t·∫•t nhi·ªám v·ª•.</p>
            <p>üöÄ **H·ªá th·ªëng ch·∫°y tr√™n n·ªÅn t·∫£ng Vercel.**</p>
        </div>
    </div>
</body>
</html>
        <button id="claimButton" onclick="claimCoin()">üî• Nh·∫≠n Coin Ngay</button>
        
        <div id="statusContainer" class="link-box hidden">
            <p id="statusText" class="success-message"></p>
        </div>
    </div>

    <script>
        // L·∫•y Key t·ª´ URL (v√≠ d·ª•: /claim.html?key=abc-123)
        const urlParams = new URLSearchParams(window.location.search);
        const userKey = urlParams.get('key');

        const API_SERVER_URL = "https://your-bot-ip-or-domain.com"; // THAY TH·∫æ B·∫∞NG IP C√îNG C·ªòNG/DOMAIN C√ì PORT C·ª¶A SERVER BOT
        const API_ENDPOINT = `${API_SERVER_URL}:${8080}/api/claim_coin`; // C·∫ßn m·ªü Port 8080 tr√™n server Bot

        const claimButton = document.getElementById('claimButton');
        const statusContainer = document.getElementById('statusContainer');
        const statusText = document.getElementById('statusText');
        const messageDisplay = document.getElementById('message');

        if (!userKey) {
            messageDisplay.textContent = "‚ö†Ô∏è L·ªói: Kh√¥ng t√¨m th·∫•y Key Coin. Vui l√≤ng th·ª≠ l·∫°i t·ª´ Bot Discord.";
            claimButton.disabled = true;
        }

        async function claimCoin() {
            if (!userKey || claimButton.disabled) return;

            claimButton.disabled = true;
            messageDisplay.textContent = 'ƒêang g·ª≠i y√™u c·∫ßu x√°c nh·∫≠n...';
            statusContainer.classList.add('hidden');

            const fullApiUrl = `${API_ENDPOINT}?key=${userKey}`;

            try {
                const response = await fetch(fullApiUrl);
                const data = await response.json();
                
                statusContainer.classList.remove('hidden');
                
                if (data.status === 'success') {
                    statusText.textContent = data.message + " Coin s·∫Ω ƒë∆∞·ª£c c·ªông v√†o Discord c·ªßa b·∫°n.";
                    statusText.className = 'success-message';
                    messageDisplay.textContent = 'Th√†nh c√¥ng! Ki·ªÉm tra tin nh·∫Øn ri√™ng t∆∞ tr√™n Discord.';
                } else {
                    statusText.textContent = `Th·∫•t b·∫°i: ${data.message}`;
                    statusText.className = 'error-message';
                    messageDisplay.textContent = 'Y√™u c·∫ßu kh√¥ng th√†nh c√¥ng. Key ƒë√£ d√πng ho·∫∑c kh√¥ng h·ª£p l·ªá.';
                }
            } catch (error) {
                console.error("L·ªói k·∫øt n·ªëi:", error);
                statusContainer.classList.remove('hidden');
                statusText.textContent = 'L·ªói k·∫øt n·ªëi ƒë·∫øn m√°y ch·ªß Bot. Vui l√≤ng b√°o cho Admin.';
                statusText.className = 'error-message';
            }
        }
    </script>
</body>
</html>
